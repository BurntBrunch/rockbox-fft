% $Id: %

In order to install the bootloader, you will need to download the following
files:

\begin{itemize}
  \item An original firmware (OF) from 
    \opt{e200v2}{
      \url{http://forums.sandisk.com/sansa/board/message?board.id=e200&thread.id=13548}}
    \opt{fuze}{
      \url{http://forums.sandisk.com/sansa/board/message?board.id=sansafuse&thread.id=23276}}
    \opt{clipv1,clipv2}{
      \url{http://forums.sandisk.com/sansa/board/message?board.id=clip&thread.id=15109}}
    \opt{clipplus}{
      \url{http://forums.sandisk.com/sansa/board/message?board.id=clipplus&thread.id=2911}}

  \item The bootloader: 
    \opt{e200v2}{\download{bootloader/sandisk-sansa/e200v2/bootloader-e200v2.sansa}}
    \opt{fuze}{\download{bootloader/sandisk-sansa/fuze/bootloader-fuze.sansa}}
    \opt{clipv1}{\download{bootloader/sandisk-sansa/clip/bootloader-clip.sansa}}
    \opt{clipv2}{\download{bootloader/sandisk-sansa/clipv2/bootloader-clipv2.sansa}}
    \opt{clipplus}{\download{bootloader/sandisk-sansa/clipplus/bootloader-clipplus.sansa}}

  \item The version of mkamsboot for your operating system from
    \download{bootloader/sandisk-sansa/mkamsboot/}
\end{itemize}

\subsection{Bootloader installation from Windows}

\begin{enumerate}

\item Create a folder called ``rbinstall'' on your desktop, and then extract
  the OF, the bootloader and mkamsboot into it.

\item Open a new command prompt, and navigate to the ``rbinstall'' folder.

\item Run mkamsboot.exe, passing the name of the OF and bootloader files that
  you downloaded, in addition to a name for the output file.

  \begin{code} 
    \opt{fuze}{mkamsboot.exe fuzea.bin bootloader-fuze.sansa patched.bin}
    \opt{e200v2}{mkamsboot.exe e200pe.bin bootloader-e200v2.sansa patched.bin}
    \opt{clipv1}{mkamsboot.exe m300a.bin bootloader-clip.sansa patched.bin}
    \opt{clipv2}{mkamsboot.exe m30pa.bin bootloader-clipv2.sansa patched.bin}
    \opt{clipplus}{mkamsboot.exe clppa.bin bootloader-clipplus.sansa patched.bin}
  \end{code}
 
  If mkamsboot.exe does not report success, then retry or abort.

\item Copy the output file (``patched.bin'' in the example given above) to the
  root of the device and rename it to the same name as the OF file you downloaded earlier 
  \opt{fuze}{(``fuzea.bin''} \opt{e200v2}{(``e200pe.bin''}
  \opt{clipv1}{(``m300a.bin''} \opt{clipv2}{(``m30pa.bin''}
  \opt{clipplus}{(``clppa.bin''} above).

\item Safely eject the device, unplug USB and wait for the firmware update to finish.
\end{enumerate}

\subsection{Bootloader installation from Mac OS X and Linux}

\begin{enumerate}

\item Create a folder called ``rbinstall'' in your home directory, and then
  extract the OF, the bootloader and mkamsboot into it.

\item Open a new terminal, and navigate to the ``rbinstall'' folder.

\item Run mkamsboot, passing the name of the OF and bootloader files that
  you downloaded, in addition to a name for the output file.

  \begin{code} 
    \opt{fuze}{./mkamsboot fuzea.bin bootloader-fuze.sansa patched.bin}
    \opt{e200v2}{./mkamsboot e200pe.bin bootloader-e200v2.sansa patched.bin}
    \opt{clipv1}{./mkamsboot m300a.bin bootloader-clip.sansa patched.bin}
    \opt{clipv2}{./mkamsboot m30pa.bin bootloader-clipv2.sansa patched.bin}
    \opt{clipplus}{./mkamsboot clppa.bin bootloader-clipplus.sansa patched.bin}
  \end{code}
 
  If mkamsboot does not report success, then retry or abort.

\item Copy the output file (``patched.bin'' in the example given above) to the
  root of the device and rename it to the same name as the OF file you downloaded earlier 
  \opt{fuze}{(``fuzea.bin''} \opt{e200v2}{(``e200pe.bin''}
  \opt{clipv1}{(``m300a.bin''} \opt{clipv2}{(``m30pa.bin''}
  \opt{clipplus}{(``clppa.bin''} above).

\item Safely eject the device, unplug USB and wait for the firmware update to finish.
\end{enumerate}
